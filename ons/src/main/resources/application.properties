spring.application.name=ons
# ===============================
# MongoDB Configuration
# ===============================
spring.data.mongodb.uri=${MONGODB_URI}

# ===============================
# Redis (Cloud Redis / RedisLabs)
# ===============================
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=${REDIS_PORT}
spring.data.redis.username=${REDIS_USERNAME}
spring.data.redis.password=${REDIS_PASSWORD}

# ===============================
# Redis (Cloud Redis / RedisLabs)
# ===============================
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=${REDIS_PORT}
spring.data.redis.username=${REDIS_USERNAME}
spring.data.redis.password=${REDIS_PASSWORD}

# TLS is REQUIRED for Redis Cloud
spring.data.redis.ssl.enabled=true
spring.data.redis.timeout=5000ms

# Lettuce connection pool (safe defaults)
spring.data.redis.lettuce.pool.enabled=true
spring.data.redis.lettuce.pool.max-active=10
spring.data.redis.lettuce.pool.max-idle=5
spring.data.redis.lettuce.pool.min-idle=1
spring.data.redis.lettuce.pool.max-wait=2000ms


# ===============================
# Redis Streams (ONS specific)
# ===============================
ons.redis.stream.email=ons:email
ons.redis.stream.sms=ons:sms
ons.redis.stream.app=ons:app
ons.redis.stream.dlq=ons:dlq

ons.redis.consumer.email.group=email-group
ons.redis.consumer.sms.group=sms-group
ons.redis.consumer.app.group=app-group


# ===============================
# Scheduling (Workers)
# ===============================
spring.task.scheduling.pool.size=5


# ===============================
# Jackson (JSON)
# ===============================
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false
spring.jackson.time-zone=UTC


# ===============================
# Logging
# ===============================
logging.level.root=INFO
logging.level.org.springframework.data.redis=INFO
logging.level.com.ons=DEBUG


# ===============================
# Actuator (optional but useful)
# ===============================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always